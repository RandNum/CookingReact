{"ast":null,"code":"import _classCallCheck from\"/Users/laptop/Documents/Bonita/frontend/cooking-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/laptop/Documents/Bonita/frontend/cooking-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/laptop/Documents/Bonita/frontend/cooking-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/laptop/Documents/Bonita/frontend/cooking-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/laptop/Documents/Bonita/frontend/cooking-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import RecipeDataService from\"../services/recipe.service\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RecipesList=/*#__PURE__*/function(_Component){_inherits(RecipesList,_Component);var _super=_createSuper(RecipesList);function RecipesList(props){var _this;_classCallCheck(this,RecipesList);_this=_super.call(this,props);_this.onChangeSearchTitle=_this.onChangeSearchTitle.bind(_assertThisInitialized(_this));_this.retrieveRecipes=_this.retrieveRecipes.bind(_assertThisInitialized(_this));_this.refreshList=_this.refreshList.bind(_assertThisInitialized(_this));_this.setActiveRecipe=_this.setActiveRecipe.bind(_assertThisInitialized(_this));_this.removeAllRecipes=_this.removeAllRecipes.bind(_assertThisInitialized(_this));_this.searchTitle=_this.searchTitle.bind(_assertThisInitialized(_this));_this.state={recipes:[],currentRecipe:null,currentIndex:-1,searchTitle:\"\"};return _this;}_createClass(RecipesList,[{key:\"componentDidMount\",value:function componentDidMount(){this.retrieveRecipes();}},{key:\"onChangeSearchTitle\",value:function onChangeSearchTitle(e){var searchTitle=e.target.value;this.setState({searchTitle:searchTitle});}},{key:\"retrieveRecipes\",value:function retrieveRecipes(){var _this2=this;RecipeDataService.getAll().then(function(response){_this2.setState({recipes:response.data});console.log(response.data);}).catch(function(e){console.log(e);});}},{key:\"refreshList\",value:function refreshList(){this.retrieveRecipes();this.setState({currentRecipe:null,currentIndex:-1});}},{key:\"setActiveRecipe\",value:function setActiveRecipe(recipe,index){this.setState({currentRecipe:recipe,currentIndex:index});}},{key:\"removeAllRecipes\",value:function removeAllRecipes(){var _this3=this;RecipeDataService.deleteAll().then(function(response){console.log(response.data);_this3.refreshList();}).catch(function(e){console.log(e);});}},{key:\"searchTitle\",value:function searchTitle(){var _this4=this;RecipeDataService.findByTitle(this.state.searchTitle).then(function(response){_this4.setState({recipes:response.data});console.log(response.data);}).catch(function(e){console.log(e);});}},{key:\"render\",value:function render(){var _this5=this;var _this$state=this.state,searchTitle=_this$state.searchTitle,recipes=_this$state.recipes,currentRecipe=_this$state.currentRecipe,currentIndex=_this$state.currentIndex;return/*#__PURE__*/_jsxs(\"div\",{className:\"list row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Search by title\",value:searchTitle,onChange:this.onChangeSearchTitle}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group-append\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-secondary\",type:\"button\",onClick:this.searchTitle,children:\"Search\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Recipes List\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-group\",children:recipes&&recipes.map(function(recipe,index){return/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item \"+(index===currentIndex?\"active\":\"\"),onClick:function onClick(){return _this5.setActiveRecipe(recipe,index);},children:recipe.title},index);})}),/*#__PURE__*/_jsx(\"button\",{className:\"m-3 btn btn-sm btn-danger\",onClick:this.removeAllRecipes,children:\"Remove All\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:currentRecipe?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Recipe\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Title:\"})}),\" \",currentRecipe.title]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Description:\"})}),\" \",currentRecipe.description]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"})}),\" \",currentRecipe.published?\"Published\":\"Pending\"]}),/*#__PURE__*/_jsx(Link,{to:\"/recipes/\"+currentRecipe.id,className:\"badge badge-warning\",children:\"Edit\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{children:\"Please click on a Recipe...\"})]})})]});}}]);return RecipesList;}(Component);export{RecipesList as default};","map":{"version":3,"sources":["/Users/laptop/Documents/Bonita/frontend/cooking-website/src/components/recipes-list.component.js"],"names":["React","Component","RecipeDataService","Link","RecipesList","props","onChangeSearchTitle","bind","retrieveRecipes","refreshList","setActiveRecipe","removeAllRecipes","searchTitle","state","recipes","currentRecipe","currentIndex","e","target","value","setState","getAll","then","response","data","console","log","catch","recipe","index","deleteAll","findByTitle","map","title","description","published","id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport RecipeDataService from \"../services/recipe.service\";\nimport { Link } from \"react-router-dom\";\n\nexport default class RecipesList extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeSearchTitle = this.onChangeSearchTitle.bind(this);\n    this.retrieveRecipes = this.retrieveRecipes.bind(this);\n    this.refreshList = this.refreshList.bind(this);\n    this.setActiveRecipe = this.setActiveRecipe.bind(this);\n    this.removeAllRecipes = this.removeAllRecipes.bind(this);\n    this.searchTitle = this.searchTitle.bind(this);\n\n    this.state = {\n      recipes: [],\n      currentRecipe: null,\n      currentIndex: -1,\n      searchTitle: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.retrieveRecipes();\n  }\n\n  onChangeSearchTitle(e) {\n    const searchTitle = e.target.value;\n\n    this.setState({\n      searchTitle: searchTitle\n    });\n  }\n\n  retrieveRecipes() {\n    RecipeDataService.getAll()\n      .then(response => {\n        this.setState({\n          recipes: response.data\n        });\n        console.log(response.data);\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  refreshList() {\n    this.retrieveRecipes();\n    this.setState({\n      currentRecipe: null,\n      currentIndex: -1\n    });\n  }\n\n  setActiveRecipe(recipe, index) {\n    this.setState({\n      currentRecipe: recipe,\n      currentIndex: index\n    });\n  }\n\n  removeAllRecipes() {\n    RecipeDataService.deleteAll()\n      .then(response => {\n        console.log(response.data);\n        this.refreshList();\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  searchTitle() {\n    RecipeDataService.findByTitle(this.state.searchTitle)\n      .then(response => {\n        this.setState({\n          recipes: response.data\n        });\n        console.log(response.data);\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  render() {\n    const { searchTitle, recipes, currentRecipe, currentIndex } = this.state;\n\n    return (\n      <div className=\"list row\">\n        <div className=\"col-md-8\">\n          <div className=\"input-group mb-3\">\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              placeholder=\"Search by title\"\n              value={searchTitle}\n              onChange={this.onChangeSearchTitle}\n            />\n            <div className=\"input-group-append\">\n              <button\n                className=\"btn btn-outline-secondary\"\n                type=\"button\"\n                onClick={this.searchTitle}\n              >\n                Search\n              </button>\n            </div>\n          </div>\n        </div>\n        <div className=\"col-md-6\">\n          <h4>Recipes List</h4>\n\n          <ul className=\"list-group\">\n            {recipes &&\n              recipes.map((recipe, index) => (\n                <li\n                  className={\n                    \"list-group-item \" +\n                    (index === currentIndex ? \"active\" : \"\")\n                  }\n                  onClick={() => this.setActiveRecipe(recipe, index)}\n                  key={index}\n                >\n                  {recipe.title}\n                </li>\n              ))}\n          </ul>\n\n          <button\n            className=\"m-3 btn btn-sm btn-danger\"\n            onClick={this.removeAllRecipes}\n          >\n            Remove All\n          </button>\n        </div>\n        <div className=\"col-md-6\">\n          {currentRecipe ? (\n            <div>\n              <h4>Recipe</h4>\n              <div>\n                <label>\n                  <strong>Title:</strong>\n                </label>{\" \"}\n                {currentRecipe.title}\n              </div>\n              <div>\n                <label>\n                  <strong>Description:</strong>\n                </label>{\" \"}\n                {currentRecipe.description}\n              </div>\n              <div>\n                <label>\n                  <strong>Status:</strong>\n                </label>{\" \"}\n                {currentRecipe.published ? \"Published\" : \"Pending\"}\n              </div>\n\n              <Link\n                to={\"/recipes/\" + currentRecipe.id}\n                className=\"badge badge-warning\"\n              >\n                Edit\n              </Link>\n            </div>\n          ) : (\n            <div>\n              <br />\n              <p>Please click on a Recipe...</p>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}