{"ast":null,"code":"import _objectSpread from\"/Users/laptop/Documents/Bonita/frontend/cooking-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/laptop/Documents/Bonita/frontend/cooking-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/laptop/Documents/Bonita/frontend/cooking-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/laptop/Documents/Bonita/frontend/cooking-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/laptop/Documents/Bonita/frontend/cooking-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/laptop/Documents/Bonita/frontend/cooking-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import RecipeDataService from\"../services/recipe.service\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Recipe=/*#__PURE__*/function(_Component){_inherits(Recipe,_Component);var _super=_createSuper(Recipe);function Recipe(props){var _this;_classCallCheck(this,Recipe);_this=_super.call(this,props);_this.onChangeTitle=_this.onChangeTitle.bind(_assertThisInitialized(_this));_this.onChangeDescription=_this.onChangeDescription.bind(_assertThisInitialized(_this));_this.getRecipe=_this.getRecipe.bind(_assertThisInitialized(_this));_this.updatePublished=_this.updatePublished.bind(_assertThisInitialized(_this));_this.updateRecipe=_this.updateRecipe.bind(_assertThisInitialized(_this));_this.deleteRecipe=_this.deleteRecipe.bind(_assertThisInitialized(_this));_this.state={currentRecipe:{id:null,title:\"\",description:\"\",published:false},message:\"\"};return _this;}_createClass(Recipe,[{key:\"componentDidMount\",value:function componentDidMount(){this.getRecipe(this.props.match.params.id);}},{key:\"onChangeTitle\",value:function onChangeTitle(e){var title=e.target.value;this.setState(function(prevState){return{currentRecipe:_objectSpread(_objectSpread({},prevState.currentRecipe),{},{title:title})};});}},{key:\"onChangeDescription\",value:function onChangeDescription(e){var description=e.target.value;this.setState(function(prevState){return{currentRecipe:_objectSpread(_objectSpread({},prevState.currentRecipe),{},{description:description})};});}},{key:\"getRecipe\",value:function getRecipe(id){var _this2=this;RecipeDataService.get(id).then(function(response){_this2.setState({currentRecipe:response.data});console.log(response.data);}).catch(function(e){console.log(e);});}},{key:\"updatePublished\",value:function updatePublished(status){var _this3=this;var data={id:this.state.currentRecipe.id,title:this.state.currentRecipe.title,description:this.state.currentRecipe.description,published:status};RecipeDataService.update(this.state.currentRecipe.id,data).then(function(response){_this3.setState(function(prevState){return{currentRecipe:_objectSpread(_objectSpread({},prevState.currentRecipe),{},{published:status})};});console.log(response.data);}).catch(function(e){console.log(e);});}},{key:\"updateRecipe\",value:function updateRecipe(){var _this4=this;RecipeDataService.update(this.state.currentRecipe.id,this.state.currentRecipe).then(function(response){console.log(response.data);_this4.setState({message:\"The recipe was updated successfully!\"});}).catch(function(e){console.log(e);});}},{key:\"deleteRecipe\",value:function deleteRecipe(){var _this5=this;RecipeDataService.delete(this.state.currentRecipe.id).then(function(response){console.log(response.data);_this5.props.history.push('/recipes');}).catch(function(e){console.log(e);});}},{key:\"render\",value:function render(){var _this6=this;var currentRecipe=this.state.currentRecipe;return/*#__PURE__*/_jsx(\"div\",{children:currentRecipe?/*#__PURE__*/_jsxs(\"div\",{className:\"edit-form\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Recipe\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"title\",value:currentRecipe.title,onChange:this.onChangeTitle})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"description\",value:currentRecipe.description,onChange:this.onChangeDescription})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"})}),currentRecipe.published?\"Published\":\"Pending\"]})]}),currentRecipe.published?/*#__PURE__*/_jsx(\"button\",{className:\"badge badge-primary mr-2\",onClick:function onClick(){return _this6.updatePublished(false);},children:\"UnPublish\"}):/*#__PURE__*/_jsx(\"button\",{className:\"badge badge-primary mr-2\",onClick:function onClick(){return _this6.updatePublished(true);},children:\"Publish\"}),/*#__PURE__*/_jsx(\"button\",{className:\"badge badge-danger mr-2\",onClick:this.deleteRecipe,children:\"Delete\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"badge badge-success\",onClick:this.updateRecipe,children:\"Update\"}),/*#__PURE__*/_jsx(\"p\",{children:this.state.message})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{children:\"Please click on a Recipe...\"})]})});}}]);return Recipe;}(Component);export{Recipe as default};","map":{"version":3,"sources":["/Users/laptop/Documents/Bonita/frontend/cooking-website/src/components/recipe.component.js"],"names":["React","Component","RecipeDataService","Recipe","props","onChangeTitle","bind","onChangeDescription","getRecipe","updatePublished","updateRecipe","deleteRecipe","state","currentRecipe","id","title","description","published","message","match","params","e","target","value","setState","prevState","get","then","response","data","console","log","catch","status","update","delete","history","push"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport RecipeDataService from \"../services/recipe.service\";\n\nexport default class Recipe extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeTitle = this.onChangeTitle.bind(this);\n    this.onChangeDescription = this.onChangeDescription.bind(this);\n    this.getRecipe = this.getRecipe.bind(this);\n    this.updatePublished = this.updatePublished.bind(this);\n    this.updateRecipe = this.updateRecipe.bind(this);\n    this.deleteRecipe = this.deleteRecipe.bind(this);\n\n    this.state = {\n      currentRecipe: {\n        id: null,\n        title: \"\",\n        description: \"\",\n        published: false\n      },\n      message: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.getRecipe(this.props.match.params.id);\n  }\n\n  onChangeTitle(e) {\n    const title = e.target.value;\n\n    this.setState(function(prevState) {\n      return {\n        currentRecipe: {\n          ...prevState.currentRecipe,\n          title: title\n        }\n      };\n    });\n  }\n\n  onChangeDescription(e) {\n    const description = e.target.value;\n    \n    this.setState(prevState => ({\n      currentRecipe: {\n        ...prevState.currentRecipe,\n        description: description\n      }\n    }));\n  }\n\n  getRecipe(id) {\n    RecipeDataService.get(id)\n      .then(response => {\n        this.setState({\n          currentRecipe: response.data\n        });\n        console.log(response.data);\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  updatePublished(status) {\n    var data = {\n      id: this.state.currentRecipe.id,\n      title: this.state.currentRecipe.title,\n      description: this.state.currentRecipe.description,\n      published: status\n    };\n\n    RecipeDataService.update(this.state.currentRecipe.id, data)\n      .then(response => {\n        this.setState(prevState => ({\n          currentRecipe: {\n            ...prevState.currentRecipe,\n            published: status\n          }\n        }));\n        console.log(response.data);\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  updateRecipe() {\n    RecipeDataService.update(\n      this.state.currentRecipe.id,\n      this.state.currentRecipe\n    )\n      .then(response => {\n        console.log(response.data);\n        this.setState({\n          message: \"The recipe was updated successfully!\"\n        });\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  deleteRecipe() {    \n    RecipeDataService.delete(this.state.currentRecipe.id)\n      .then(response => {\n        console.log(response.data);\n        this.props.history.push('/recipes')\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  render() {\n    const { currentRecipe } = this.state;\n\n    return (\n      <div>\n        {currentRecipe ? (\n          <div className=\"edit-form\">\n            <h4>Recipe</h4>\n            <form>\n              <div className=\"form-group\">\n                <label htmlFor=\"title\">Title</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"title\"\n                  value={currentRecipe.title}\n                  onChange={this.onChangeTitle}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"description\">Description</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"description\"\n                  value={currentRecipe.description}\n                  onChange={this.onChangeDescription}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label>\n                  <strong>Status:</strong>\n                </label>\n                {currentRecipe.published ? \"Published\" : \"Pending\"}\n              </div>\n            </form>\n\n            {currentRecipe.published ? (\n              <button\n                className=\"badge badge-primary mr-2\"\n                onClick={() => this.updatePublished(false)}\n              >\n                UnPublish\n              </button>\n            ) : (\n              <button\n                className=\"badge badge-primary mr-2\"\n                onClick={() => this.updatePublished(true)}\n              >\n                Publish\n              </button>\n            )}\n\n            <button\n              className=\"badge badge-danger mr-2\"\n              onClick={this.deleteRecipe}\n            >\n              Delete\n            </button>\n\n            <button\n              type=\"submit\"\n              className=\"badge badge-success\"\n              onClick={this.updateRecipe}\n            >\n              Update\n            </button>\n            <p>{this.state.message}</p>\n          </div>\n        ) : (\n          <div>\n            <br />\n            <p>Please click on a Recipe...</p>\n          </div>\n        )}\n      </div>\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}