(this["webpackJsonpcooking-website"]=this["webpackJsonpcooking-website"]||[]).push([[0],{37:function(e,t,i){},38:function(e,t,i){},64:function(e,t,i){"use strict";i.r(t);var c=i(1),n=i(30),s=i.n(n),a=i(13),r=(i(37),i(9)),l=i(10),o=i(12),d=i(11),u=(i(38),i(39),i(2)),h=i(3),b=i(31),p=i.n(b).a.create({baseURL:"http://localhost:8080/api",headers:{"Content-type":"application/json"}}),j=new(function(){function e(){Object(r.a)(this,e)}return Object(l.a)(e,[{key:"getAll",value:function(){return p.get("/recipes")}},{key:"get",value:function(e){return p.get("/recipes/".concat(e))}},{key:"create",value:function(e){return p.post("/recipes",e)}},{key:"update",value:function(e,t){return p.put("/recipes/".concat(e),t)}},{key:"delete",value:function(e){return p.delete("/recipes/".concat(e))}},{key:"deleteAll",value:function(){return p.delete("/recipes")}},{key:"findByTitle",value:function(e){return p.get("/recipes?title=".concat(e))}}]),e}()),v=i(0),O=function(e){Object(o.a)(i,e);var t=Object(d.a)(i);function i(e){var c;return Object(r.a)(this,i),(c=t.call(this,e)).onChangeTitle=c.onChangeTitle.bind(Object(h.a)(c)),c.onChangeDescription=c.onChangeDescription.bind(Object(h.a)(c)),c.saveRecipe=c.saveRecipe.bind(Object(h.a)(c)),c.newRecipe=c.newRecipe.bind(Object(h.a)(c)),c.state={id:null,title:"",description:"",published:!1,submitted:!1},c}return Object(l.a)(i,[{key:"onChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"onChangeDescription",value:function(e){this.setState({description:e.target.value})}},{key:"saveRecipe",value:function(){var e=this,t={title:this.state.title,description:this.state.description};j.create(t).then((function(t){e.setState({id:t.data.id,title:t.data.title,description:t.data.description,published:t.data.published,submitted:!0}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"newRecipe",value:function(){this.setState({id:null,title:"",description:"",published:!1,submitted:!1})}},{key:"render",value:function(){return Object(v.jsx)("div",{className:"submit-form",children:this.state.submitted?Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"You submitted successfully!"}),Object(v.jsx)("button",{className:"btn btn-success",onClick:this.newTutorial,children:"Add"})]}):Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"title",children:"Title"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"title",required:!0,value:this.state.title,onChange:this.onChangeTitle,name:"title"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"description",children:"Description"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"description",required:!0,value:this.state.description,onChange:this.onChangeDescription,name:"description"})]}),Object(v.jsx)("button",{onClick:this.saveTutorial,className:"btn btn-success",children:"Submit"})]})})}}]),i}(c.Component),m=i(15),g=function(e){Object(o.a)(i,e);var t=Object(d.a)(i);function i(e){var c;return Object(r.a)(this,i),(c=t.call(this,e)).onChangeTitle=c.onChangeTitle.bind(Object(h.a)(c)),c.onChangeDescription=c.onChangeDescription.bind(Object(h.a)(c)),c.getRecipe=c.getRecipe.bind(Object(h.a)(c)),c.updatePublished=c.updatePublished.bind(Object(h.a)(c)),c.updateRecipe=c.updateRecipe.bind(Object(h.a)(c)),c.deleteRecipe=c.deleteRecipe.bind(Object(h.a)(c)),c.state={currentRecipe:{id:null,title:"",description:"",published:!1},message:""},c}return Object(l.a)(i,[{key:"componentDidMount",value:function(){this.getRecipe(this.props.match.params.id)}},{key:"onChangeTitle",value:function(e){var t=e.target.value;this.setState((function(e){return{currentRecipe:Object(m.a)(Object(m.a)({},e.currentRecipe),{},{title:t})}}))}},{key:"onChangeDescription",value:function(e){var t=e.target.value;this.setState((function(e){return{currentRecipe:Object(m.a)(Object(m.a)({},e.currentRecipe),{},{description:t})}}))}},{key:"getRecipe",value:function(e){var t=this;j.get(e).then((function(e){t.setState({currentRecipe:e.data}),console.log(e.data)})).catch((function(e){console.log(e)}))}},{key:"updatePublished",value:function(e){var t=this,i={id:this.state.currentRecipe.id,title:this.state.currentRecipe.title,description:this.state.currentRecipe.description,published:e};j.update(this.state.currentRecipe.id,i).then((function(i){t.setState((function(t){return{currentRecipe:Object(m.a)(Object(m.a)({},t.currentRecipe),{},{published:e})}})),console.log(i.data)})).catch((function(e){console.log(e)}))}},{key:"updateRecipe",value:function(){var e=this;j.update(this.state.currentRecipe.id,this.state.currentRecipe).then((function(t){console.log(t.data),e.setState({message:"The recipe was updated successfully!"})})).catch((function(e){console.log(e)}))}},{key:"deleteRecipe",value:function(){var e=this;j.delete(this.state.currentRecipe.id).then((function(t){console.log(t.data),e.props.history.push("/recipes")})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.currentRecipe;return Object(v.jsx)("div",{children:t?Object(v.jsxs)("div",{className:"edit-form",children:[Object(v.jsx)("h4",{children:"Recipe"}),Object(v.jsxs)("form",{children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"title",children:"Title"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"title",value:t.title,onChange:this.onChangeTitle})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"description",children:"Description"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"description",value:t.description,onChange:this.onChangeDescription})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:Object(v.jsx)("strong",{children:"Status:"})}),t.published?"Published":"Pending"]})]}),t.published?Object(v.jsx)("button",{className:"badge badge-primary mr-2",onClick:function(){return e.updatePublished(!1)},children:"UnPublish"}):Object(v.jsx)("button",{className:"badge badge-primary mr-2",onClick:function(){return e.updatePublished(!0)},children:"Publish"}),Object(v.jsx)("button",{className:"badge badge-danger mr-2",onClick:this.deleteRecipe,children:"Delete"}),Object(v.jsx)("button",{type:"submit",className:"badge badge-success",onClick:this.updateRecipe,children:"Update"}),Object(v.jsx)("p",{children:this.state.message})]}):Object(v.jsxs)("div",{children:[Object(v.jsx)("br",{}),Object(v.jsx)("p",{children:"Please click on a Recipe..."})]})})}}]),i}(c.Component),f=function(e){Object(o.a)(i,e);var t=Object(d.a)(i);function i(e){var c;return Object(r.a)(this,i),(c=t.call(this,e)).onChangeSearchTitle=c.onChangeSearchTitle.bind(Object(h.a)(c)),c.retrieveRecipes=c.retrieveRecipes.bind(Object(h.a)(c)),c.refreshList=c.refreshList.bind(Object(h.a)(c)),c.setActiveRecipe=c.setActiveRecipe.bind(Object(h.a)(c)),c.removeAllRecipes=c.removeAllRecipes.bind(Object(h.a)(c)),c.searchTitle=c.searchTitle.bind(Object(h.a)(c)),c.state={recipes:[],currentRecipe:null,currentIndex:-1,searchTitle:""},c}return Object(l.a)(i,[{key:"componentDidMount",value:function(){this.retrieveRecipes()}},{key:"onChangeSearchTitle",value:function(e){var t=e.target.value;this.setState({searchTitle:t})}},{key:"retrieveRecipes",value:function(){var e=this;j.getAll().then((function(t){e.setState({recipes:t.data}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"refreshList",value:function(){this.retrieveRecipes(),this.setState({currentRecipe:null,currentIndex:-1})}},{key:"setActiveRecipe",value:function(e,t){this.setState({currentRecipe:e,currentIndex:t})}},{key:"removeAllRecipes",value:function(){var e=this;j.deleteAll().then((function(t){console.log(t.data),e.refreshList()})).catch((function(e){console.log(e)}))}},{key:"searchTitle",value:function(){var e=this;j.findByTitle(this.state.searchTitle).then((function(t){e.setState({recipes:t.data}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,i=t.searchTitle,c=t.recipes,n=t.currentRecipe,s=t.currentIndex;return Object(v.jsxs)("div",{className:"list row",children:[Object(v.jsx)("div",{className:"col-md-8",children:Object(v.jsxs)("div",{className:"input-group mb-3",children:[Object(v.jsx)("input",{type:"text",className:"form-control",placeholder:"Search by title",value:i,onChange:this.onChangeSearchTitle}),Object(v.jsx)("div",{className:"input-group-append",children:Object(v.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.searchTitle,children:"Search"})})]})}),Object(v.jsxs)("div",{className:"col-md-6",children:[Object(v.jsx)("h4",{children:"Recipes List"}),Object(v.jsx)("ul",{className:"list-group",children:c&&c.map((function(t,i){return Object(v.jsx)("li",{className:"list-group-item "+(i===s?"active":""),onClick:function(){return e.setActiveRecipe(t,i)},children:t.title},i)}))}),Object(v.jsx)("button",{className:"m-3 btn btn-sm btn-danger",onClick:this.removeAllRecipes,children:"Remove All"})]}),Object(v.jsx)("div",{className:"col-md-6",children:n?Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"Recipe"}),Object(v.jsxs)("div",{children:[Object(v.jsx)("label",{children:Object(v.jsx)("strong",{children:"Title:"})})," ",n.title]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("label",{children:Object(v.jsx)("strong",{children:"Description:"})})," ",n.description]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("label",{children:Object(v.jsx)("strong",{children:"Status:"})})," ",n.published?"Published":"Pending"]}),Object(v.jsx)(a.b,{to:"/recipes/"+n.id,className:"badge badge-warning",children:"Edit"})]}):Object(v.jsxs)("div",{children:[Object(v.jsx)("br",{}),Object(v.jsx)("p",{children:"Please click on a Recipe..."})]})})]})}}]),i}(c.Component),x=function(e){Object(o.a)(i,e);var t=Object(d.a)(i);function i(){return Object(r.a)(this,i),t.apply(this,arguments)}return Object(l.a)(i,[{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:[Object(v.jsx)("a",{href:"/recipes",className:"navbar-brand",children:"Cooking Recipes"}),Object(v.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)(a.b,{to:"/recipes",className:"nav-link",children:"Tutorials"})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)(a.b,{to:"/add",className:"nav-link",children:"Add"})})]})]}),Object(v.jsx)("div",{className:"container mt-3",children:Object(v.jsxs)(u.c,{children:[Object(v.jsx)(u.a,{exact:!0,path:["/","/recipes"],component:f}),Object(v.jsx)(u.a,{exact:!0,path:"/add",component:O}),Object(v.jsx)(u.a,{path:"/recipes/:id",component:g})]})})]})}}]),i}(c.Component),R=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,65)).then((function(t){var i=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,a=t.getTTFB;i(e),c(e),n(e),s(e),a(e)}))};s.a.render(Object(v.jsx)(a.a,{children:Object(v.jsx)(x,{})}),document.getElementById("root")),R()}},[[64,1,2]]]);
//# sourceMappingURL=main.87eb1715.chunk.js.map